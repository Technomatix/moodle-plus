!function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){e.exports=vendor},function(e,t,n){e.exports=n(0)(28)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.currentDate=function(){var e=new Date;return e.setHours(0,0,0,0),e},t.dateFromString=function(e){var t=e.split("-").map(function(e){return parseInt(e)});return new Date(Date.UTC(t[0],t[1]-1,t[2]))});t.isValidDate=function(e){return null!==e&&e.length==="YYYY-MM-DD".length&&r(e).toISOString().substr(0,"YYYY-MM-DD".length)===e}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteItemThunk=t.addItemThunk=t.toggleDoneThunk=t.deleteItem=t.removeOptimisticallyAddedItems=t.optimisticallyAddItem=t.setFormTaskDescription=t.setFormDueDate=t.toggleDone=t.receiveItem=t.setInitialState=void 0;var o=n(5),a=u(o),i=n(11),s=r(i),l=(t.setInitialState=function(e){return{type:"SET_INITIAL_STATE",items:e}},t.receiveItem=function(e){return{type:"RECEIVE_ITEM",item:e}}),d=t.toggleDone=function(e){return{type:"TOGGLE_DONE",item:e}},c=(t.setFormDueDate=function(e){return{type:"SET_FORM_DUE_DATE",dueDate:e}},t.setFormTaskDescription=function(e){return{type:"SET_FORM_TASK_DESCRIPTION",taskDescription:e}},t.optimisticallyAddItem=function(e,t){return{type:"OPTIMISTICALLY_ADD_ITEM",dueDate:e,taskDescription:t}}),f=t.removeOptimisticallyAddedItems=function(){return{type:"REMOVE_OPTIMISTICALLY_ADDED_ITEMS"}},p=t.deleteItem=function(e){return{type:"DELETE_ITEM",item:e}};t.toggleDoneThunk=function(e){return function(t){t(d(e));var n=(0,a.default)(e);n.isDone=!n.isDone,s.putItem(n,function(n,r){t(n?d(e):l(r.body))})}},t.addItemThunk=function(){return function(e,t){var n=t().form.dueDate,r=t().form.taskDescription;e(c(n,r)),s.postItem(n,r,function(t,n){t||e(l(n.body)),e(f())})}},t.deleteItemThunk=function(e){return function(t){t(p(e)),s.deleteItem(e)}}},function(e,t,n){e.exports=n(0)(191)},function(e,t,n){e.exports=n(0)(93)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AppContainer=void 0;var o=n(1),a=u(o),i=n(4),s=n(14),l=u(s),d=n(13),c=u(d),f=n(3),p=r(f),m=function(e){var t=e.items,n=e.form,r=e.toggleDoneThunk,u=e.setFormDueDate,o=e.setFormTaskDescription,i=e.addItemThunk,s=e.deleteItemThunk;return a.default.createElement("div",null,a.default.createElement(l.default,{items:t,toggleDoneThunk:r,deleteItemThunk:s}),a.default.createElement(c.default,{form:n,setFormDueDate:u,setFormTaskDescription:o,addItemThunk:i}))};m.propTypes={items:a.default.PropTypes.arrayOf(a.default.PropTypes.object),form:a.default.PropTypes.object,toggleDoneThunk:a.default.PropTypes.func,setFormDueDate:a.default.PropTypes.func,setFormTaskDescription:a.default.PropTypes.func,addItemThunk:a.default.PropTypes.func,deleteItemThunk:a.default.PropTypes.func};t.AppContainer=(0,i.connect)(function(e){return{items:e.items,form:e.form}},p)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),o=r(u),a=n(2),i=function(e,t){var n={};return n.items=t.map(function(e){return{id:parseInt(e.id),taskDescription:e.task_description,isDone:"1"===e.is_done,dueDate:new Date(1e3*parseInt(e.due_timestamp))}}),n.form={id:-1,taskDescription:"",isDone:!1,dueDate:""},n},s=function(e,t){var n=(0,o.default)(e),r=n.items.find(function(e){return e.id===parseInt(t.id)});return"undefined"==typeof r&&(r=n.items[n.items.length-1],r.id=parseInt(t.id)),r.taskDescription=t.task_description,r.isDone="1"===t.is_done,r.dueDate=new Date(1e3*parseInt(t.due_timestamp)),n},l=function(e,t){var n=(0,o.default)(e),r=n.items.find(function(e){return e.id===t.id});return"undefined"!=typeof r&&(r.isDone=!r.isDone),n},d=function(e,t){var n=(0,o.default)(e);return n.form.dueDate=t,n},c=function(e,t){var n=(0,o.default)(e);return n.form.taskDescription=t,n},f=function(e){var t=(0,o.default)(e),n=(0,a.dateFromString)(t.form.dueDate);return t.items.push({id:t.form.id,taskDescription:t.form.taskDescription,isDone:!1,dueDate:n}),t.form={id:t.form.id-1,taskDescription:"",isDone:!1,dueDate:""},t},p=function(e){var t=(0,o.default)(e);return t.items=t.items.filter(function(e){return e.id>0}),t},m=function(e,t){var n=(0,o.default)(e);return n.items=n.items.filter(function(e){return e.id!==t.id}),n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_INITIAL_STATE":return i(e,t.items);case"RECEIVE_ITEM":return s(e,t.item);case"TOGGLE_DONE":return l(e,t.item);case"SET_FORM_DUE_DATE":return d(e,t.dueDate);case"SET_FORM_TASK_DESCRIPTION":return c(e,t.taskDescription);case"OPTIMISTICALLY_ADD_ITEM":return f(e);case"REMOVE_OPTIMISTICALLY_ADDED_ITEMS":return p(e);case"DELETE_ITEM":return m(e,t.item)}return e}},function(e,t,n){e.exports=n(0)(119)},function(e,t,n){e.exports=n(0)(205)},function(e,t,n){e.exports=n(0)(88)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteItem=t.postItem=t.putItem=void 0;var u=n(15),o=r(u),a=n(2);t.putItem=function(e,t){o.default.put("item/").type("application/json").accept("application/json").send({id:e.id,task_description:e.taskDescription,is_done:e.isDone?1:0,due_timestamp:parseInt(e.dueDate.getTime()/1e3)}).end(t)},t.postItem=function(e,t,n){o.default.post("item/").type("application/json").accept("application/json").send({task_description:t,due_timestamp:parseInt((0,a.dateFromString)(e).getTime()/1e3)}).end(n)},t.deleteItem=function(e){o.default.delete("item/").type("application/json").accept("application/json").send({id:e.id}).end()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),a=n(2),i=function(e){var t=e.item,n=e.toggleDoneThunk,r=e.deleteItemThunk,u="list-group-item",i=t.dueDate<(0,a.currentDate)()?"danger":"warning",s=u+" "+u+"-"+(t.isDone?"success":i),l=t.isDone?"Done":"Due "+t.dueDate.toUTCString().substr(0,"Sun, 01 Jan 2017".length),d={position:"absolute",right:"20px"};return o.default.createElement("li",{key:t.id,className:s},o.default.createElement("label",{className:"form-check-label"},o.default.createElement("input",{className:"form-check-input",type:"checkbox",name:"mark",checked:t.isDone,onChange:function(){return n(t)},disabled:t.id<0}),o.default.createElement("span",null," ",l,": ",t.taskDescription)),o.default.createElement("button",{className:"btn btn-danger btn-sm",style:d,onClick:function(){return r(t)},disabled:!t.isDone},"Delete"))};i.propTypes={item:o.default.PropTypes.object,toggleDoneThunk:o.default.PropTypes.func,deleteItemThunk:o.default.PropTypes.func},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),a=n(2),i=function(e){var t=e.form,n=e.setFormDueDate,r=e.setFormTaskDescription,u=e.addItemThunk;return o.default.createElement("div",{className:"card card-block"},o.default.createElement("h4",{className:"card-title"},"Add item"),o.default.createElement("form",null,o.default.createElement("div",{className:"form-group"},o.default.createElement("label",{htmlFor:"due"},"Due"),o.default.createElement("input",{type:"text",className:"form-control",id:"due",placeholder:"YYYY-MM-DD",value:t.dueDate,maxLength:"YYYY-MM-DD".length,onChange:function(e){return n(e.target.value)}})),o.default.createElement("div",{className:"form-group"},o.default.createElement("label",{htmlFor:"description"},"Description"),o.default.createElement("input",{type:"text",className:"form-control",id:"description",placeholder:"Type task description here",value:t.taskDescription,onChange:function(e){return r(e.target.value)}})),o.default.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return u()},disabled:!(0,a.isValidDate)(t.dueDate)||0===t.taskDescription.length},"Save")))};i.propTypes={form:o.default.PropTypes.object,setFormDueDate:o.default.PropTypes.func,setFormTaskDescription:o.default.PropTypes.func,addItemThunk:o.default.PropTypes.func},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=r(u),a=n(12),i=r(a),s=function(e){var t=e.items,n=e.toggleDoneThunk,r=e.deleteItemThunk;return o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-block"},o.default.createElement("h4",{className:"card-title"},"Items"),o.default.createElement("ul",{className:"list-group"},t.map(function(e){return o.default.createElement(i.default,{key:e.id,item:e,toggleDoneThunk:n,deleteItemThunk:r})}))))};s.propTypes={items:o.default.PropTypes.arrayOf(o.default.PropTypes.object),toggleDoneThunk:o.default.PropTypes.func,deleteItemThunk:o.default.PropTypes.func},t.default=s},function(e,t,n){e.exports=n(0)(209)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var u=n(1),o=r(u),a=n(8),i=r(a),s=n(10),l=n(4),d=n(9),c=r(d),f=n(7),p=r(f),m=n(3),D=n(6),T=(0,s.applyMiddleware)(c.default)(s.createStore),_=T(p.default);_.dispatch((0,m.setInitialState)(JSON.parse(document.querySelector(".todolist-items").innerHTML))),i.default.render(o.default.createElement(l.Provider,{store:_},o.default.createElement(D.AppContainer,null)),document.querySelector('div[role="main"]'))}]);
//# sourceMappingURL=todolist.min.js.map